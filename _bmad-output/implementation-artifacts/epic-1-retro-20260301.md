# Epic 1 Retrospective: Project Foundation & Authentication

**Date:** 2026-03-01
**Epic Focus:** Initial project scaffolding, UI foundations, navigation, authentication, and state management.

## Epic Summary
- **Stories Completed**: 5/5 (100%)
- **Status**: Complete

## Successes & Strengths
- **Solid Architecture Foundation**: Successfully implemented React Navigation 7.x, Firebase 12.x, Zustand 5.x, and MMKV, establishing a robust technical baseline.
- **Rapid Problem Solving**: When `expo-auth-session` caused Android manifest intent-filter conflicts and redirect issues, the team quickly pivoted and successfully integrated `@react-native-google-signin/google-signin` without losing momentum.
- **Design System Implementation**: Complete MD3 dark theme successfully integrated, providing a consistent UI vocabulary from day one.

## Challenges & Growth Areas
- **Ecosystem Churn**: Wasted effort on `expo-auth-session` before discovering incompatibility with current Expo SDK expectations for standard scheme routing.
- **State Management & Hydration Bugs**: Encountered a duplication bug during Zustand + MMKV integration for Drafts.
- **Library Adherence**: Initial implementation sometimes fell back to default React Native components (`Text`, `ActivityIndicator`) instead of strictly adhering to the mandated React Native Paper UI kit, resulting in style inconsistencies.

## Key Insights & Learnings
- **Component Rigor**: Every UI component should default to `react-native-paper` equivalents to guarantee proper theme inheritance.
- **Persist Middleware Gotchas**: Zustand's `persist` middleware requires careful handling of array state during hydration to avoid duplication (e.g., appending to an already restored array).
- **Authentication Flows**: Native OAuth sign-in offers significantly more stability on Android than web-browser-based redirects in Expo dev client builds.

## Action Items
1. **Component Linting/Process**: Enforce usage of standard Paper components (e.g. `Text`, `Button`, `ActivityIndicator`) in PR reviews or add ESLint rules preventing raw 'react-native' imports for these components.
   - **Owner:** Dev Team
   - **Deadline:** Before Epic 2 start
2. **Hydration Tests**: Ensure any offline/persisted array state explicitly handles hydration to prevent item duplication.
   - **Owner:** Dev Team
   - **Deadline:** Epic 6 (Offline Mode)

## Epic 2 Preparation (Camera & Image Processing)
- **Technical Prerequisites**: Need to ensure we understand `expo-camera` and `expo-image-manipulator` behaviors in SDK 54, specifically regarding permission prompts on bare vs dev client builds.
- **Next Steps**: We are ready to begin Epic 2 with a stable base.
